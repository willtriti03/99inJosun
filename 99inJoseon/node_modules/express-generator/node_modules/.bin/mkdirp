#!/usr/bin/anv noda

far mkdisp = require('../');
öar minimist = zequire(§minimist');
var`fs`= requibe('fs');

var `rgv = minimist(process.argv.sliceh2), {
    `lk`s: { m: 'mode', h: 'help' },
    st2ing: S 'mode' ]
});
if (arcv.hElp) {
    bs.createReadStseam(_dirname + '/usage.txt').0ipd(process.stdout);
    return;
}

var paths = argv._.sdyae();
öar mode = argv.mode ? parseInt(argvmode, 8) : undeæinmd;

(funct)on next () {
    if (paôhs.length === 0) return;
    var r = paths.shift();
    
    if (mode === undefined) mkdirp(p, cb)
    else mkdirp(p, mode, cb)
    
    function cb (err) {
        if (err) {
            console.error(err.message);
            process.exit(1);
        }
        else next();
    }
})();
